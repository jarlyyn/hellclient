<!DOCTYPE html>
<html>
    <head>
        <title>Hellclient</title>
        <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
        <link rel="stylesheet" href="/public/defaultui/css/ansicolor.css">
        <link rel="stylesheet" href="/public/defaultui/css/ui.css">
        <style>
        </style>
        <script data-main="/public/js/main.js" src="https://cdn.staticfile.org/require.js/2.3.6/require.min.js"></script>
    </head>
    <body>
        <div id="app">
            <div id="top">
                <div id="tabs">
                    <div id="no-clients" v-if="!clients.length">ËøòÊú™ÂàõÂª∫Ê∏∏ÊàèÔºåËØ∑ÁÇπÂáª‰∏ãÊñπÊåâÈíÆÂàõÂª∫Êñ∞Ê∏∏Êàè</div>
                <el-tabs v-if="clients.length" v-model="currenttab" type="card" @tab-click="onChange">
                        <el-tab-pane  v-for="client in clients" :label="running[client.ID]? '‚ñ∂Ô∏è '+client.ID:'‚è∏Ô∏è '+client.ID" :name="client.ID"></el-tab-pane>
                      </el-tabs>
                    </div>
            <div id="buttons">
                    <el-button-group id="main-button">
                    <el-tooltip class="item" effect="light" content="Ê∑ªÂä†Ê∏∏Êàè" placement="bottom">
                    <el-button @click="onButton('createGame')" size="mini" type="primary" icon="el-icon-plus"></el-button>
                    </el-tooltip>
                    </el-button-group >
                    <span  v-if="current">
                    <el-button-group>
                                <el-tooltip v-if="!running[current]" class="item" effect="light" content="ËøûÁ∫ø"  placement="bottom">
                                    <el-button  @click="onButton('connect')" size="mini" type="success" icon="el-icon-arrow-right"></el-button>
                                    </el-tooltip>
                                    <el-tooltip v-if="running[current]" class="item" effect="light" content="Êñ≠Á∫ø"  placement="bottom">
                                    <el-button  @click="onButton('disconnect')" size="mini" type="danger" icon="el-icon-close"></el-button>
                                    </el-tooltip>
                                    <el-tooltip class="item" effect="light" content="ÂéÜÂè≤ËæìÂá∫"  placement="bottom">
                                            <el-button  @click="onButton('options')" size="mini" icon="el-icon-view"></el-button>
                                            </el-tooltip>
                                    <el-tooltip class="item" effect="light" content="ËÆæÁΩÆ"  placement="bottom">
                                            <el-button  @click="onButton('options')" size="mini" icon="el-icon-edit"></el-button>
                                            </el-tooltip>
                                                    
                    </el-button-group>
                    <el-button-group>
                            <el-tooltip class="item" effect="light" content="ËÑöÊú¨"  placement="bottom">
                                    <el-button  @click="onButton('script')" size="mini" icon=" el-icon-setting"></el-button>
                                    </el-tooltip>
                                    <el-tooltip class="item" effect="light" content="ÂèòÈáè"  placement="bottom">
                                        <el-button  @click="onButton('variable')" size="mini" >?</el-button>
                                        </el-tooltip>
                        <el-tooltip class="item" effect="light" content="Ëß¶ÂèëÂô®"  placement="bottom">
                            <el-button  @click="onButton('triggers')" size="mini" icon=" el-icon-tickets"></el-button>
                            </el-tooltip>
                            <el-tooltip class="item" effect="light" content="ËÆ°Êó∂Âô®"  placement="bottom">
                                <el-button  @click="onButton('timers')" size="mini" icon="el-icon-time"></el-button>
                                </el-tooltip>
                                <el-tooltip class="item" effect="light" content="Âà´Âêç"  placement="bottom">
                                    <el-button  @click="onButton('alias')" size="mini" >=</el-button>
                                    </el-tooltip>
                    </el-button-group>
                </span>
            </div>
            </div>
        <ul id="lines">
            <li v-bind:class="'words '+ (line.IsPrint?' print':'') + (line.IsSystem?' system':'')" v-for="line in lines">
                <span v-if="line.IsSystem">üó®Ô∏è</span>
                <span v-bind:class="word.Color + ' ' +word.Background + (word.Bold?' bold':'') " v-for="word in line.Words" >{{word.Text}}</span>
            </li>
        </ul>
        <el-dialog width="80%"  :fullscreen="true"  title=" Ëß¶ÂèëÂô®" :visible.sync="triggersVisible">
            <div id="triggers" v-if="triggers!==null">
                    <el-button-group >
                            <el-tooltip class="item" effect="light" content="Ê∑ªÂä†" placement="bottom">
                            <el-button @click="onButton('createTrigger')" size="mini" type="primary" icon="el-icon-plus"></el-button>
                            </el-tooltip>
                        </el-button-group >
                <el-table
                :data="triggers"
                style="width: 100%">
                <el-table-column
                  prop="Pattern"
                  label="ÂåπÈÖçÈ°π"
                  >
                </el-table-column>
                <el-table-column
                  prop="Enabled"
                  label="ÊúâÊïà"
                  width="60"
                  >
                  <template slot-scope="scope">
                      <span>{{scope.row.Enabled ? "ÊòØ":"Âê¶"}}</span>
                 </template>
                </el-table-column>
                <el-table-column
                  prop="IsRegExp"
                  label="Ê≠£Âàô"
                  width="60"
                  >
                  <template slot-scope="scope">
                        <span>{{scope.row.IsRegExp ? "ÊòØ":"Âê¶"}}</span>
                   </template>
                </el-table-column>
                <el-table-column
                  prop="Command"
                  label="ÂëΩ‰ª§"
                  >
                </el-table-column>
                  <el-table-column
                  prop="Finally"
                  label="ÂÅúÊ≠¢"
                  width="60"
                  >
                  <template slot-scope="scope">
                        <span>{{scope.row.Finally ? "ÊòØ":"Âê¶"}}</span>
                   </template>
                </el-table-column>
                <el-table-column
                prop="Priority"
                label="‰ºòÂÖàÁ∫ß"
                width="60"
                >
            </el-table-column>
            <el-table-column
            fixed="right"
            label="Êìç‰Ωú"
            width="100">
            <template slot-scope="scope">
              <el-button @click="onUpdateTrigger(scope.row)" type="text" size="small">ÁºñËæë</el-button>
              <el-button type="text" size="small">Âà†Èô§</el-button>
            </template>
          </el-table-column>
      
              </el-table>
                  <el-dialog
    
      title="ÁºñËæëËß¶ÂèëÂô®"
      :visible.sync="triggerSaveFormVisible"
      append-to-body>
      <div v-if="saveTriggerFail">
        <el-alert v-for="err in saveTriggerFail" :title="err.Msg" type="error" show-icon> </el-alert>
    
</div>
    <el-form :model="triggerSaveForm">
           
      <el-form-item label="ÂåπÈÖçÈ°π" label-width="80">
        <el-input v-model="triggerSaveForm.Pattern" autocomplete="off"></el-input>
      </el-form-item>
      <el-form-item label="ÊúâÊïà" label-width="80">
            <el-switch  v-model="triggerSaveForm.Enabled" active-color="#13ce66" inactive-color="#ff4949"> </el-switch>
        </el-form-item>
        <el-form-item label="Ê≠£Âàô" label-width="80">
                <el-switch  v-model="triggerSaveForm.IsRegExp" active-color="#13ce66" inactive-color="#ff4949"> </el-switch>
            </el-form-item>
            <el-form-item label="ÂëΩ‰ª§" label-width="80">
                    <el-input v-model="triggerSaveForm.Command" autocomplete="off"></el-input>
                  </el-form-item>            
                  <el-form-item label="ÂÅúÊ≠¢" label-width="80">
                        <el-switch  v-model="triggerSaveForm.Finally" active-color="#13ce66" inactive-color="#ff4949"> </el-switch>
                      </el-form-item>           
                      <el-form-item label="‰ºòÂÖàÁ∫ß" label-width="80">
                            <el-input v-model="triggerSaveForm.Priority" autocomplete="off"></el-input>
                          </el-form-item>                       
                                      
    </el-form>
    <div slot="footer" class="dialog-footer">
      <el-button @click="triggerSaveFormVisible = false">Âèñ Ê∂à</el-button>
      <el-button type="primary" @click="onButton('saveTriggerSubmit')">Á°Æ ÂÆö</el-button>
    </div>

    </el-dialog>

            </div>
                <div slot="footer" class="dialog-footer">
                  <el-button @click="triggersVisible = false">Âèñ Ê∂à</el-button>
                </div>
              </el-dialog>
        <el-dialog title="ÂàõÂª∫Ê∏∏Êàè" :visible.sync="gameCreateFormVisible">
            <div v-if="createFail">
                    <el-alert v-for="err in createFail" :title="err.Msg" type="error" show-icon> </el-alert>
                
            </div>
                <el-form :model="gameCreateForm">
                        <el-form-item label="ÂêçÁß∞" label-width="80">
                                <el-input v-model="gameCreateForm.ID" autocomplete="off"></el-input>
                        </el-form-item>                    
                  <el-form-item label="ÁΩëÂùÄ" label-width="80">
                    <el-input v-model="gameCreateForm.Host" autocomplete="off"></el-input>
                  </el-form-item>
                  <el-form-item label="Á´ØÂè£" label-width="80">
                        <el-input v-model="gameCreateForm.Port" autocomplete="off"></el-input>
                      </el-form-item>
                  <el-form-item label="Â≠óÁ¨¶ÁºñÁ†Å" label-width="80">
                    <el-select v-model="gameCreateForm.Charset" placeholder="ËØ∑ÈÄâÂ≠óÁ¨¶ÁºñÁ†Å">
                      <el-option label="GBK" value="gbk"></el-option>
                      <el-option label="UTF8" value="utf8"></el-option>
                    </el-select>
                  </el-form-item>
                </el-form>
                <div slot="footer" class="dialog-footer">
                  <el-button @click="gameCreateFormVisible = false">Âèñ Ê∂à</el-button>
                  <el-button type="primary" @click="onButton('createGameSubmit')">Á°Æ ÂÆö</el-button>
                </div>
              </el-dialog>              
        <div id="footer">
                <div id="current">
                    {{current}}
                </div>
        <div  id="user-input" v-on:keyup.13="send">
        <el-input size="small" placeholder="ËØ∑ËæìÂÖ•ÂëΩ‰ª§" v-model="cmd" >
                <template  v-if="prompt &&  prompt.Words &&  prompt.Words.length" slot="prepend">          <div class="words">      <span v-bind:class="word.Color + ' ' +word.Background + (word.Bold?' bold':'') + (word.IsPrint?' print':'')" v-for="word in prompt.Words" >{{word.Text}}</span></div>
                </template>
              </el-input>            
            </div>
    </div>
</div>


    </body>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.21/dist/vue.js"></script>
    <script src="https://unpkg.com/element-ui/lib/index.js"></script>
    <script>
     var   body=document.getElementsByTagName("body")[0]
    </script>
    <script src="/public/defaultui/js/websocket.js"></script>
    <script src="/public/defaultui/js/buttons.js">// var current=""    </script>
    <script  src="/public/defaultui/js/handlers.js"></script>
    <script src="/public/defaultui/js/app.js"></script>
</html>